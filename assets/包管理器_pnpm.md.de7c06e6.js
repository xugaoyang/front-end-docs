import{_ as s,o as a,c as n,O as p}from"./chunks/framework.865a7308.js";const A=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"包管理器/pnpm.md","filePath":"包管理器/pnpm.md"}'),l={name:"包管理器/pnpm.md"},o=p(`<blockquote><p>pnpm-速度快、节省磁盘空间的软件包管理器</p></blockquote><h4 id="优势" tabindex="-1">优势 <a class="header-anchor" href="#优势" aria-label="Permalink to &quot;优势&quot;">​</a></h4><ol><li>快</li><li>高效</li><li>支持单体仓库</li><li>权限严格</li></ol><h4 id="安装" tabindex="-1">安装 <a class="header-anchor" href="#安装" aria-label="Permalink to &quot;安装&quot;">​</a></h4><ol><li>使用npm</li></ol><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">install</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-g</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">pnpm</span></span></code></pre></div><ol start="2"><li><p>管理依赖</p><ol><li>pnpm add</li></ol><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">pnpm add </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">pkg</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">  </span><span style="color:#676E95;font-style:italic;">// 安装至dependencies</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">pnpm add </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">D </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">pkg</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// 安装至devDependencies</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">pnpm add </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">O </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">pkg</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// 安装至optionalDependencies</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">pnpm add </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">g </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">pkg</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// 安装至全局</span></span></code></pre></div><ol start="2"><li>pnpm install</li></ol><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">pnpm install </span><span style="color:#676E95;font-style:italic;">// same with npm、yarn</span></span></code></pre></div><ol start="3"><li>pnpm update</li></ol><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">pnpm up</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">pnpm up </span><span style="color:#89DDFF;">--</span><span style="color:#A6ACCD;">latest</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">pnpm up </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">pkg</span><span style="color:#89DDFF;">&gt;@&lt;</span><span style="color:#A6ACCD;">version</span><span style="color:#89DDFF;">&gt;</span></span></code></pre></div><ol start="4"><li>pnpm remove</li></ol><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">pnpm remove</span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">rm</span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">uninstall</span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">un</span></span></code></pre></div><ol start="5"><li>pnpm link</li></ol><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">pnpm link </span><span style="color:#676E95;font-style:italic;">// 让当前目录下的软件包在系统范围内或其它位置都可访问</span></span></code></pre></div><ol start="6"><li>pnpm unlink</li></ol><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">pnpm unlink </span><span style="color:#676E95;font-style:italic;">// 断开某个软件包在全局范围内的链接</span></span></code></pre></div></li></ol><h4 id="pnpm验证安装成功" tabindex="-1">pnpm验证安装成功 <a class="header-anchor" href="#pnpm验证安装成功" aria-label="Permalink to &quot;pnpm验证安装成功&quot;">​</a></h4><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">pnpm -v</span></span></code></pre></div><h4 id="node版本切换" tabindex="-1">node版本切换 <a class="header-anchor" href="#node版本切换" aria-label="Permalink to &quot;node版本切换&quot;">​</a></h4><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">//</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">使用管理员运行cmd或者powershell</span></span>
<span class="line"><span style="color:#FFCB6B;">pnpm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">env</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">use</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-g</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">latest</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">//</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">node安装路径,假设默认安装的是16.18.0版本</span></span>
<span class="line"><span style="color:#FFCB6B;">D:\\software\\nodejs</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">//</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">pnpm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">下载node路径</span></span>
<span class="line"><span style="color:#FFCB6B;">C:\\Users\\yann\\AppData\\Local\\pnpm\\nodejs</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">//</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">第一次查看node版本号发现并未切换需要手动修改系统node环境变量路径</span></span>
<span class="line"><span style="color:#FFCB6B;">node</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-v</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">//</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">16.18</span><span style="color:#C3E88D;">.0</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">//</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">修改path环境变量后</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">C:</span><span style="color:#A6ACCD;">\\U</span><span style="color:#C3E88D;">sers</span><span style="color:#A6ACCD;">\\y</span><span style="color:#C3E88D;">ann</span><span style="color:#A6ACCD;">\\A</span><span style="color:#C3E88D;">ppData</span><span style="color:#A6ACCD;">\\L</span><span style="color:#C3E88D;">ocal</span><span style="color:#A6ACCD;">\\p</span><span style="color:#C3E88D;">npm</span><span style="color:#A6ACCD;">\\n</span><span style="color:#C3E88D;">odejs</span><span style="color:#A6ACCD;">\\x</span><span style="color:#C3E88D;">xx</span><span style="color:#A6ACCD;">\\</span></span>
<span class="line"><span style="color:#A6ACCD;">node </span><span style="color:#C3E88D;">-v</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">//</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">最新版本号</span></span></code></pre></div><p>修改node路径如下图：<br><img src="https://cdn.nlark.com/yuque/0/2022/png/25735864/1665644877941-7b59ffcf-88ff-4a00-8e42-40a9c9f7ebfd.png#clientId=u79c70ef7-403d-4&amp;crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;errorMessage=unknown%20error&amp;from=paste&amp;height=492&amp;id=uc8460414&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=615&amp;originWidth=1159&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=266067&amp;status=error&amp;style=none&amp;taskId=u0249b094-5bc8-485b-8771-85bcbc3fcd1&amp;title=&amp;width=927.2" alt="image.png"></p><h4 id="前端项目测试" tabindex="-1">前端项目测试 <a class="header-anchor" href="#前端项目测试" aria-label="Permalink to &quot;前端项目测试&quot;">​</a></h4><ol><li>移除node_modules</li><li>用pnpm安装依赖</li></ol><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">pnpm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">install</span></span></code></pre></div><p>如果出现报错：【 ERR_PNPM_PEER_DEP_ISSUES  Unmet peer dependencies】</p><ul><li>项目根目录添加.npmrc配置或者直接命令 npm config set strict-peer-dependencies=false</li></ul><pre><code>\`\`\`javascript
strict-peer-dependencies=false
// 或者
auto-install-peers=true
\`\`\`
</code></pre><ul><li>手动安装提示的依赖</li></ul><ol><li>依赖安装正常之后，运行项目</li></ol><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">pnpm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">run</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">dev</span></span></code></pre></div>`,21),e=[o];function t(c,r,i,C,y,D){return a(),n("div",null,e)}const m=s(l,[["render",t]]);export{A as __pageData,m as default};
